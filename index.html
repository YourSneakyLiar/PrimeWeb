<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrimeWay ‚Äì –¢—É—Ä—ã –∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #E0F7F5;
        }
        header {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px 20px;
            background-color: #C9F1ED;
            border-radius: 10px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            margin: 10px;
        }
        .header-item {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            position: relative;
        }
        .header-item img {
            width: 30px;
            height: auto;
        }
        .header-item span {
            font-size: 16px;
            color: #333;
        }
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
        }
        .background-container {
            position: relative;
            width: calc(100% - 20px);
            height: 60vh;
            margin: 10px;
            background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('https://sochi.ru/upload/medialibrary/347/34788aa79c16c18530b1d98ad51b1dc1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            border-radius: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .background-text {
            color: white;
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            padding: 20px;
        }
        .search-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            margin: 20px auto;
            width: 90%;
        }
        .search-bar input, .search-bar button {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .search-bar button {
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        .about {
            text-align: center;
            padding: 40px;
            background: white;
            margin: 20px auto;
            width: 80%;
            border-radius: 10px;
        }
        .card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: transform 0.3s;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card img {
            width: 100%;
            border-radius: 10px;
            height: 200px;
            object-fit: cover;
        }
        .card-body {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            margin-top: 30px;
            border-radius: 10px;
            margin: 10px;
        }
        .city-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 1000;
            display: none;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            min-width: 150px;
            max-height: 200px;
            overflow-y: auto;
        }
        .city-dropdown.show {
            display: block;
        }
        .city-dropdown .dropdown-item {
            padding: 8px 15px;
            cursor: pointer;
        }
        .city-dropdown .dropdown-item:hover {
            background-color: #4CAF50;
            color: white;
        }
        .auth-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .auth-buttons .btn {
            flex: 1;
            max-width: 200px;
        }
        .review-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            padding: 15px;
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        .review-card:hover {
            transform: translateY(-5px);
        }
        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .review-user {
            font-weight: bold;
            color: #4CAF50;
        }
        .review-date {
            font-size: 0.9rem;
            color: #666;
        }
        .review-rating {
            color: #FFD700;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .review-text {
            font-size: 1rem;
            color: #333;
        }
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 10px;
            }
            .background-text {
                font-size: 2rem;
            }
            .search-bar {
                flex-direction: column;
            }
            .auth-buttons {
                flex-direction: column;
            }
            .auth-buttons .btn {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <img src="https://i.ibb.co/HDr2vNTm/logo.jpg" alt="PrimeWay Logo" class="logo">
            <div class="header-item">
                <img src="https://i.ibb.co/6Rr41bBk/telephone1.png" alt="–¢–µ–ª–µ—Ñ–æ–Ω">
                <span id="user-phone-display">+7 (926) 865-86-12</span>
            </div>
            <div class="header-item" id="address-section">
                <img src="https://i.ibb.co/5gdCQB60/Adress.png" alt="–ê–¥—Ä–µ—Å">
                <span id="address-text">–ê–¥—Ä–µ—Å</span>
            </div>
            <div class="header-item" id="city-section">
                <img src="https://i.ibb.co/07YYn3j/Map.png" alt="–ì–æ—Ä–æ–¥">
                <span id="city-text">–ì–æ—Ä–æ–¥</span>
                <div class="city-dropdown" id="city-dropdown">
                    <div class="dropdown-item" data-city="–ú–æ—Å–∫–≤–∞">–ú–æ—Å–∫–≤–∞</div>
                    <div class="dropdown-item" data-city="–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</div>
                    <div class="dropdown-item" data-city="–ö–∞–∑–∞–Ω—å">–ö–∞–∑–∞–Ω—å</div>
                    <div class="dropdown-item" data-city="–°–æ—á–∏">–°–æ—á–∏</div>
                    <div class="dropdown-item" data-city="–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</div>
                    <div class="dropdown-item" data-city="–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</div>
                    <div class="dropdown-item" data-city="–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä">–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä</div>
                    <div class="dropdown-item" data-city="–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥">–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥</div>
                    <div class="dropdown-item" data-city="–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫">–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫</div>
                    <div class="dropdown-item" data-city="–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É">–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É</div>
                    <div class="dropdown-item" data-city="–°–∞–º–∞—Ä–∞">–°–∞–º–∞—Ä–∞</div>
                    <div class="dropdown-item" data-city="–£—Ñ–∞">–£—Ñ–∞</div>
                    <div class="dropdown-item" data-city="–û–º—Å–∫">–û–º—Å–∫</div>
                    <div class="dropdown-item" data-city="–ß–µ–ª—è–±–∏–Ω—Å–∫">–ß–µ–ª—è–±–∏–Ω—Å–∫</div>
                    <div class="dropdown-item" data-city="–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥">–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥</div>
                    <div class="dropdown-item" data-city="–ò—Ä–∫—É—Ç—Å–∫">–ò—Ä–∫—É—Ç—Å–∫</div>
                    <div class="dropdown-item" data-city="–í–æ–ª–≥–æ–≥—Ä–∞–¥">–í–æ–ª–≥–æ–≥—Ä–∞–¥</div>
                    <div class="dropdown-item" data-city="–Ø—Ä–æ—Å–ª–∞–≤–ª—å">–Ø—Ä–æ—Å–ª–∞–≤–ª—å</div>
                    <div class="dropdown-item" data-city="–¢–≤–µ—Ä—å">–¢–≤–µ—Ä—å</div>
                    <div class="dropdown-item" data-city="–ü–µ—Ä–º—å">–ü–µ—Ä–º—å</div>
                </div>
            </div>
            <div class="header-item" id="auth-section">
                <img src="https://i.ibb.co/Lh2GMkjM/user.png" alt="–í–æ–π—Ç–∏" id="user-icon">
                <span id="auth-text">–í–æ–π—Ç–∏/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
            </div>
        </header>

        <div class="background-container">
            <h1 class="background-text">–ü—É—Ç–µ—à–µ—Å—Ç–≤—É–π—Ç–µ —Å PrimeWay</h1>
        </div>

        <div class="container">
            <section class="search-bar">
                <input type="text" id="city" placeholder="–ì–æ—Ä–æ–¥" value="–ú–æ—Å–∫–≤–∞">
                <input type="text" id="museum" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –º—É–∑–µ—è">
                <input type="date" id="tour-date">
                <input type="number" id="persons" placeholder="üë§" min="1" max="100">
                <button id="search-btn">üîç –ù–∞–π—Ç–∏ —Ç—É—Ä</button>
            </section>

            <section class="about">
                <p>PrimeWay ‚Äì –≤–∞—à –Ω–∞–¥–µ–∂–Ω—ã–π –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤ –º–∏—Ä–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –ø–æ –†–æ—Å—Å–∏–∏! –ú—ã –æ—Ä–≥–∞–Ω–∏–∑—É–µ–º —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—É—Ä—ã –≤ –º—É–∑–µ–∏, –∑–∞–ø–æ–≤–µ–¥–Ω–∏–∫–∏ –∏ –Ω–∞ —ç–∫—Å–∫—É—Ä—Å–∏–æ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã...</p>
                <a href="tours.html" class="btn btn-success mt-3">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —ç–∫—Å–∫—É—Ä—Å–∏–∏</a>
            </section>

            <h2 class="my-4" style="color: #333; font-weight: bold;">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
            <div class="row" id="popular-tours">
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm" style="border-radius: 10px; border-color: #4CAF50;" data-tour-id="1">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/06/6b/da/3e/peterhof-palace-and-garden.jpg?w=1000&h=-1&s=1" class="card-img-top" alt="–ü–µ—Ç–µ—Ä–≥–æ—Ñ">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #4CAF50; font-weight: bold;">–ü–µ—Ç–µ—Ä–≥–æ—Ñ</h5>
                            <p class="card-text">–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–æ–π –†–æ—Å—Å–∏–∏!</p>
                            <p class="card-text"><strong>–¶–µ–Ω–∞:</strong> –æ—Ç 5 000 —Ä—É–±.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm" style="border-radius: 10px; border-color: #4CAF50;" data-tour-id="2">
                        <img src="https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0b/63/04/f1/caption.jpg?w=1000&h=-1&s=1" class="card-img-top" alt="–ú—É–∑–µ–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #4CAF50; font-weight: bold;">–ú—É–∑–µ–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏</h5>
                            <p class="card-text">–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é –ø–æ–∫–æ—Ä–µ–Ω–∏—è –∫–æ—Å–º–æ—Å–∞!</p>
                            <p class="card-text"><strong>–¶–µ–Ω–∞:</strong> –æ—Ç 2 500 —Ä—É–±.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm" style="border-radius: 10px; border-color: #4CAF50;" data-tour-id="3">
                        <img src="http://dynamic-media-cdn.tripadvisor.com/media/photo-o/1d/dd/8b/33/caption.jpg?w=1000&h=-1&s=1" class="card-img-top" alt="–ö–∞–∑–∞–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä">
                        <div class="card-body">
                            <h5 class="card-title" style="color: #4CAF50; font-weight: bold;">–ö–∞–∑–∞–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä</h5>
                            <p class="card-text">–û—Ç–∫—Ä–æ–π—Ç–µ –¥—Ä–µ–≤–Ω—é—é –∏—Å—Ç–æ—Ä–∏—é –∏ –∫—É–ª—å—Ç—É—Ä—É –ö–∞–∑–∞–Ω–∏!</p>
                            <p class="card-text"><strong>–¶–µ–Ω–∞:</strong> –æ—Ç 3 800 —Ä—É–±.</p>
                        </div>
                    </div>
                </div>
            </div>

            <hr class="my-5" style="border-top: 2px solid #333; opacity: 1;" />

            <h2 class="my-4" style="color: #333; font-weight: bold;">–û—Ç–∑—ã–≤—ã</h2>
            <div class="row" id="reviews">
                <!-- –û—Ç–∑—ã–≤—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>

        <footer>
            <p>¬© 2025 PrimeWay. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </footer>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div class="modal fade" id="authModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="authModalTitle">–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="authForm">
                            <div class="mb-3">
                                <label for="username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                                <input type="text" class="form-control" id="username" required>
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-control" id="password" required>
                            </div>
                            <div class="mb-3" id="email-field" style="display: none;">
                                <label for="email" class="form-label">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</label>
                                <input type="email" class="form-control" id="email">
                            </div>
                            <div class="auth-buttons">
                                <button type="submit" class="btn btn-primary" id="submitBtn">–í–æ–π—Ç–∏</button>
                                <button type="button" class="btn btn-secondary" id="register-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ -->
        <div class="modal fade" id="addressModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∞–¥—Ä–µ—Å</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="addressForm">
                            <div class="mb-3">
                                <label for="user-address" class="form-label">–í–∞—à –∞–¥—Ä–µ—Å</label>
                                <input type="text" class="form-control" id="user-address" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∞–¥—Ä–µ—Å" required>
                            </div>
                            <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            function loadUserData() {
                const username = localStorage.getItem('username') || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                const phone = localStorage.getItem('phone') || '+7 (926) 865-86-12';
                const address = localStorage.getItem('userAddress') || '–ê–¥—Ä–µ—Å';
                const city = localStorage.getItem('city') || '–ì–æ—Ä–æ–¥';
                
                document.getElementById('user-phone-display').textContent = phone;
                document.getElementById('address-text').textContent = address;
                document.getElementById('city-text').textContent = city;
                document.getElementById('auth-text').textContent = username !== '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' ? username : '–í–æ–π—Ç–∏/–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
            }
            
            loadUserData();

            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã (—Å–µ–≥–æ–¥–Ω—è)
            const today = new Date().toISOString().split('T')[0];
            const tourDateInput = document.getElementById('tour-date');
            tourDateInput.setAttribute('min', today);

            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–¥–µ–π
            const personsInput = document.getElementById('persons');
            personsInput.setAttribute('min', '1');
            personsInput.setAttribute('max', '100');

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            function checkAuthStatus() {
                const token = localStorage.getItem('token');
                const username = localStorage.getItem('username');
                if (token && username) {
                    document.getElementById('auth-text').textContent = username;
                }
            }
            checkAuthStatus();

            // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            const authModal = new bootstrap.Modal(document.getElementById('authModal'));
            // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
            const addressModal = new bootstrap.Modal(document.getElementById('addressModal'));

            // –ö–ª–∏–∫ –ø–æ –∏–∫–æ–Ω–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('user-icon').addEventListener('click', function(e) {
                e.stopPropagation();
                if (localStorage.getItem('token')) {
                    window.location.href = 'user.html';
                } else {
                    resetAuthForm();
                    authModal.show();
                }
            });

            // –ö–ª–∏–∫ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
            document.getElementById('auth-text').addEventListener('click', function(e) {
                e.stopPropagation();
                if (localStorage.getItem('token')) {
                    window.location.href = 'user.html';
                } else {
                    resetAuthForm();
                    authModal.show();
                }
            });

            // –ö–ª–∏–∫ –ø–æ –≤—Å–µ–π —Å–µ–∫—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            document.getElementById('auth-section').addEventListener('click', function() {
                if (!localStorage.getItem('token')) {
                    resetAuthForm();
                    authModal.show();
                }
            });

            function resetAuthForm() {
                document.getElementById('authForm').reset();
                document.getElementById('email-field').style.display = 'none';
                document.getElementById('register-btn').textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                document.getElementById('submitBtn').textContent = '–í–æ–π—Ç–∏';
                document.getElementById('authModalTitle').textContent = '–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
            }

            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—Ö–æ–¥–æ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
            document.getElementById('register-btn').addEventListener('click', function() {
                const registerBtn = document.getElementById('register-btn');
                const isRegistering = registerBtn.textContent === "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è";
                
                if (isRegistering) {
                    registerBtn.textContent = "–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏";
                    document.getElementById('submitBtn').textContent = "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è";
                    document.getElementById('email-field').style.display = "block";
                    document.getElementById('authModalTitle').textContent = "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è";
                } else {
                    registerBtn.textContent = "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è";
                    document.getElementById('submitBtn').textContent = "–í–æ–π—Ç–∏";
                    document.getElementById('email-field').style.display = "none";
                    document.getElementById('authModalTitle').textContent = "–í—Ö–æ–¥";
                }
            });

            // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            document.getElementById('authForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const isRegistering = document.getElementById('submitBtn').textContent === "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è";
                
                if (isRegistering) {
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    const email = document.getElementById('email').value;
                    
                    try {
                        const response = await fetch('http://localhost:3000/api/register', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ username, password, email })
                        });
                        
                        const result = await response.json();
                        if (response.ok) {
                            localStorage.setItem('token', 'simulated-token');
                            localStorage.setItem('username', username);
                            localStorage.setItem('email', email);
                            
                            authModal.hide();
                            document.getElementById('auth-text').textContent = username;
                            loadUserData();
                            alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
                        } else {
                            alert(result.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏');
                        }
                    } catch (err) {
                        console.error('Error during registration:', err);
                        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: ' + err.message);
                    }
                } else {
                    const username = document.getElementById('username').value;
                    const password = document.getElementById('password').value;
                    
                    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –≤—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API)
                    localStorage.setItem('token', 'simulated-token');
                    localStorage.setItem('username', username);
                    
                    authModal.hide();
                    document.getElementById('auth-text').textContent = username;
                    loadUserData();
                }
            });

            // –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞
            const citySection = document.getElementById('city-section');
            const cityText = document.getElementById('city-text');
            const cityDropdown = document.getElementById('city-dropdown');

            citySection.addEventListener('click', function(e) {
                e.stopPropagation();
                cityDropdown.classList.toggle('show');
            });

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞
            document.querySelectorAll('#city-dropdown .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    const selectedCity = this.getAttribute('data-city');
                    cityText.textContent = selectedCity;
                    document.getElementById('city').value = selectedCity;
                    localStorage.setItem('city', selectedCity);
                    cityDropdown.classList.remove('show');
                });
            });

            // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
            document.addEventListener('click', function(e) {
                if (!citySection.contains(e.target)) {
                    cityDropdown.classList.remove('show');
                }
            });

            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∞–¥—Ä–µ—Å–∞
            document.getElementById('address-section').addEventListener('click', function() {
                addressModal.show();
            });

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∞–¥—Ä–µ—Å–∞
            document.getElementById('addressForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const userAddress = document.getElementById('user-address').value;
                if (userAddress) {
                    document.getElementById('address-text').textContent = userAddress;
                    localStorage.setItem('userAddress', userAddress);
                    addressModal.hide();
                    loadUserData();
                } else {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å');
                }
            });

            // –ü–æ–∏—Å–∫ —Ç—É—Ä–æ–≤
            document.getElementById('search-btn').addEventListener('click', function() {
                const city = document.getElementById('city').value;
                const date = document.getElementById('tour-date').value;
                const persons = document.getElementById('persons').value;

                if (persons < 1 || persons > 100) {
                    alert('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 100.');
                    return;
                }
                if (date && new Date(date) < new Date(today)) {
                    alert('–î–∞—Ç–∞ —ç–∫—Å–∫—É—Ä—Å–∏–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø—Ä–æ—à–ª–æ–º.');
                    return;
                }

                window.location.href = `tours.html?city=${city}&date=${date}&persons=${persons}`;
            });

            // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç—É—Ä–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
            document.querySelectorAll('#popular-tours .card').forEach(card => {
                card.addEventListener('click', function() {
                    const tourId = this.dataset.tourId;
                    window.location.href = `tours.html?tourId=${tourId}`;
                });
            });

            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏–∑ localStorage
            const reviewsList = document.getElementById('reviews');
            let reviews = JSON.parse(localStorage.getItem('reviews')) || [];

            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–∑—ã–≤—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç –≤ localStorage
            if (reviews.length === 0) {
                reviews = [
                    {
                        user: "–ê–Ω–Ω–∞ –°.",
                        tourId: 1,
                        rating: 5,
                        text: "–≠–∫—Å–∫—É—Ä—Å–∏—è –≤ –ü–µ—Ç–µ—Ä–≥–æ—Ñ –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π! –ì–∏–¥ —Ä–∞—Å—Å–∫–∞–∑–∞–ª –º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—ã—Å—à–µ–º —É—Ä–æ–≤–Ω–µ. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Ä–Ω—É—Å—å —Å–Ω–æ–≤–∞!",
                        date: "15 –º–∞—Ä—Ç–∞ 2025"
                    },
                    {
                        user: "–ú–∏—Ö–∞–∏–ª –ö.",
                        tourId: 2,
                        rating: 4,
                        text: "–ú—É–∑–µ–π –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏ –≤–ø–µ—á–∞—Ç–ª–∏–ª! –û—á–µ–Ω—å –ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —Ö–æ—Ç–µ–ª–æ—Å—å –±—ã –±–æ–ª—å—à–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–∞. –í —Ü–µ–ª–æ–º, —Ç—É—Ä –æ—Ç–ª–∏—á–Ω—ã–π, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é.",
                        date: "20 —Ñ–µ–≤—Ä–∞–ª—è 2025"
                    },
                    {
                        user: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ü.",
                        tourId: 3,
                        rating: 5,
                        text: "–ö–∞–∑–∞–Ω—Å–∫–∏–π —Å–æ–±–æ—Ä ‚Äî —ç—Ç–æ must-see! –ì–∏–¥ –±—ã–ª –æ—á–µ–Ω—å –≤–Ω–∏–º–∞—Ç–µ–ª–µ–Ω, —Ä–∞—Å—Å–∫–∞–∑–∞–ª –º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∫—Ç–æ–≤. PrimeWay, –≤—ã –ª—É—á—à–∏–µ!",
                        date: "5 —è–Ω–≤–∞—Ä—è 2025"
                    }
                ];
                localStorage.setItem('reviews', JSON.stringify(reviews));
            }

            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ—Ç–∑—ã–≤—ã
            reviews.forEach(review => {
                const stars = "‚òÖ".repeat(review.rating) + "‚òÜ".repeat(5 - review.rating);
                const reviewCard = document.createElement('div');
                reviewCard.classList.add('col-md-4', 'mb-4');
                reviewCard.innerHTML = `
                    <div class="review-card">
                        <div class="review-header">
                            <span class="review-user">${review.user}</span>
                            <span class="review-date">${review.date}</span>
                        </div>
                        <div class="review-rating">${stars}</div>
                        <p class="review-text">${review.text}</p>
                    </div>
                `;
                reviewsList.appendChild(reviewCard);
            });
        });
    </script>
</body>
</html>